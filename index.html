<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noticias Tech Diario</title>
    <link rel="alternate" type="application/rss+xml" title="RSS Noticias Tech" href="canal.xml" />
    <link rel="stylesheet" href="estilo.css" />
</head>
<body>
    <!-- Hero Section -->
    <header class="hero-section">
        <div class="hero-content">
            <h1>🚀 Noticias Tech Diario</h1>
            <p class="tagline">Actualizaciones diarias sobre el mundo tecnológico: IA, ciberseguridad, software y más.</p>
            <div class="rss-banner">
                <a href="canal.xml" class="rss-link">
                    📡 Suscríbete vía RSS
                    <span class="tooltip">Recibe actualizaciones automáticas</span>
                </a>
            </div>
        </div>
    </header>

    <div class="contenedor">
        <!-- Contenido principal dinámico -->
        <main class="principal">
            <div class="noticias-grid" id="rss-feed"></div>
        </main>

        <!-- Slider (se mantiene igual) -->
        <aside class="slider">
            <h3>🔝 Top Noticias</h3>
            <div class="slider-wrapper">
                <div class="slider-contenido" id="slider-contenido">
                    <div class="slide">
                        <a href="https://www.noticiastech.com/intel-ai-chip" target="_blank">
                            <strong>Lanzamiento del nuevo chip Intel AI</strong>
                        </a>
                        <p>07 abr 2025 - 10:30</p>
                    </div>
                    <div class="slide">
                        <a href="https://www.noticiastech.com/android15-seguridad" target="_blank">
                            <strong>Actualización de seguridad para Android 15</strong>
                        </a>
                        <p>07 abr 2025 - 09:00</p>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Footer -->
    <footer class="news-footer">
        <p>📡 <a href="canal.xml" class="footer-rss">Suscribirse al RSS</a> | © 2025 Noticias Tech</p>
    </footer>

    <!-- Script del slider (se mantiene igual) -->
    <script>
        const sliderContenido = document.getElementById('slider-contenido');
        let currentIndex = 0;

        setInterval(() => {
            const slides = sliderContenido.children;
            const total = slides.length;

            for (let i = 0; i < total; i++) {
                slides[i].style.transform = `translateY(-${100 * currentIndex}%)`;
            }

            currentIndex = (currentIndex + 1) % total;
        }, 3000);
    </script>

    <!-- Script para cargar el RSS dinámicamente (NUEVO) -->
    <script>
        // Cargar y transformar el RSS usando XSL
        fetch('canal.xml')
            .then(response => response.text())
            .then(xml => {
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(xml, "application/xml");
                
                // Aplicar transformación XSL
                const xslt = new XSLTProcessor();
                fetch('estilo-rss.xsl')
                    .then(response => response.text())
                    .then(xsl => {
                        const xslDoc = parser.parseFromString(xsl, "application/xml");
                        xslt.importStylesheet(xslDoc);
                        const html = xslt.transformToFragment(xmlDoc, document);
                        document.getElementById("rss-feed").appendChild(html);
                    });
            });
    </script>
</body>
</html>
